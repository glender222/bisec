<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Raíces — Bisección y Falsa Posición</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>Raíces de f(x)</h1>
    <p>Escribe una ecuación → se convierte a función → define intervalo y % de error → corre ambos métodos y compara tiempos.</p>
  </header>

  <main class="wrap">
    <section class="card graph">
      <h2>Gráfico (Desmos)</h2>
      <div id="calculator" class="calculator"></div>
      <p class="hint">Se dibuja <code>f(x)</code>, líneas <code>x=a</code>, <code>x=b</code> y el punto de raíz.</p>
    </section>

    <section class="card controls">
      <h2>Entradas</h2>
      <div class="grid">
        <div class="col col-12">
          <label>Función f(x) <span class="muted">(ej: <code>sin(x)-x/2</code>, <code>x^3-x-2</code>, <code>exp(-x)-x</code>)</span></label>
          <input id="expr" type="text" value="x^3 - x - 2" />
        </div>
        <div class="col col-6">
          <label>x min</label>
          <input id="xmin" type="number" step="any" value="-5" />
        </div>
        <div class="col col-6">
          <label>x max</label>
          <input id="xmax" type="number" step="any" value="5" />
        </div>
        <div class="col col-6">
          <label>a (intervalo)</label>
          <input id="a" type="number" step="any" placeholder="a" />
        </div>
        <div class="col col-6">
          <label>b (intervalo)</label>
          <input id="b" type="number" step="any" placeholder="b" />
        </div>
        <div class="col col-6">
          <label>Error objetivo (%)</label>
          <input id="errpct" type="number" step="any" value="0.01" />
        </div>
        <div class="col col-6">
          <label>Iteraciones máx</label>
          <input id="maxit" type="number" step="1" value="100" />
        </div>
      </div>
      <div class="btns">
        <button id="btnPlot" class="btn-primary">Graficar</button>
        <button id="btnBoth">Correr ambos métodos</button>
        <button id="btnBisec">Solo Bisección</button>
        <button id="btnFalsa">Solo Falsa Posición</button>
        <button id="btnClear" class="btn-danger">Limpiar raíz</button>
      </div>
      <div id="status" class="hint"></div>
    </section>

    <section class="card results">
      <h2>Resultados y eficiencia</h2>
      <div id="summary" class="summary"></div>
      <div class="tables">
        <div>
          <h3>Bisección</h3>
          <div id="tBisec"></div>
        </div>
        <div>
          <h3>Falsa Posición</h3>
          <div id="tFalsa"></div>
        </div>
      </div>
    </section>
  </main>

  <!-- Dependencias externas (globales): Desmos + expr-eval -->
  <script src="https://www.desmos.com/api/v1.10/calculator.js?apiKey=dcb31709b452b1cf9dc26972add0fda6"></script>
  <script src="https://cdn.jsdelivr.net/npm/expr-eval@2.0.2/dist/bundle.min.js"></script>

  <!-- App (ES Modules) -->
  <script type="module" src="js/app.js"></script>
</body>
</html>
